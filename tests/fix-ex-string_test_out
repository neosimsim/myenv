%Controller.EventTrace.TriggeredOptimization{commands: %Controller.EventTrace.TriggeredOptimization.Commands{baseline_injection_id: nil, baseline_shift_id: nil, battery_plan_id_list: nil, fcas_plan_id: nil, noop_id: nil, plan_id: nil, power_request_id_list: nil, soc_limits_id_list: nil}, reason: "optimize", timestamp: ~U[2022-02-03 15:34:02.073841Z]}
{:error, {{:shutdown, {:failed_to_start_child, :bread_supervisor, {:shutdown, {:failed_to_start_child, Controller.Cluster.Simulation.Optimizer, {:undef, [{SI, :as, [{10, :s}, :ms], []}, {Controller.Cluster.Optimizer, :init, 1, [file: 'lib/controller/cluster/optimizer.ex', line: 26]}, {Grains.GenGrain, :init, 1, [file: 'lib/grains/gen_grain.ex', line: 92]}, {:gen_server, :init_it, 2, [file: 'gen_server.erl', line: 417]}, {:gen_server, :init_it, 6, [file: 'gen_server.erl', line: 385]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 226]}]}}}}}, {:child, :undefined, Controller, {Grains, :start_supervised, [%Grains.Recipe{map: %{CommandsCache: :CommandsTracer, CommandsTracer: :FrequencyInjector, DiscrepancyDetector: :FcrChargingManager, FCAS: :Schedule, FcrChargingManager: :FCAS, FrequencyInjector: [{:route, "#Function<4.66210062/1 in Controller.Cluster.Supervisor.unavailability_manager_grain/0>", [:UnavailabilityManager], "msg when not(is_battery_commands(msg))"}, {:route, "#Function<1.66210062/1 in Controller.Cluster.Supervisor.dispatcher_grain/0>", [:Dispatcher], "msg when is_battery_commands(msg)"}], Optimizer: {:periodic, {:route, "#Function<1.66210062/1 in Controller.Cluster.Supervisor.dispatcher_grain/0>", [:Dispatcher], "msg when is_battery_commands(msg)"}, %{period: 1000}}, OutlierDetection: [:SignalsComputation, {:ghost, :UnavailabilityManager, [description: nil]}], Schedule: [{:ghost, :CommandsCache, [description: nil]}, :Optimizer, :CommandsUpdateProbe], Server: [{:route, "#Function<1.66210062/1 in Controller.Cluster.Supervisor.dispatcher_grain/0>", [:Dispatcher], "msg when is_battery_commands(msg)"}, {:route, "#Function<0.66210062/1 in Controller.Cluster.Supervisor.cluster_grains/1>", [:CommandsCache], "msg when not(is_battery_commands(msg))"}], SignalsComputation: [:DiscrepancyDetector, :SignalsPublisher], UnavailabilityManager: [{:route, "#Function<1.66210062/1 in Controller.Cluster.Supervisor.dispatcher_grain/0>", [:Dispatcher], "msg when is_battery_commands(msg)"}, {:route, "#Function<3.66210062/1 in Controller.Cluster.Supervisor.outlier_detection_grain/1>", [{:periodic, :OutlierDetection, %{period: 1000, with_tag: :outlier_detection}}], "msg when not(is_battery_commands(msg))"}]}, name: Controller.Cluster}, %Grains{map: %{:CommandsCache => {Controller.Cluster.Schedule.CommandsCache, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan, Glue.PowerRequest, Glue.BaselineShift, Glue.SocLimits, Glue.BaselineInjection], display_name: "Simulation Cluster Controller", enable_charging: false, frequency_bounds_validity: nil, groups: [], id: :Simulation, max_allowed_frequency_measurement_deviation: {1000, :mHz}, optimization_interval: {10, :s}, pq: {1000000, :W}, readout_validity_interval: {10, :s}, serial: 6451, signals_interval: {1, :s}}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :CommandsTracer => {Controller.Cluster.Schedule.CommandsTracer, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan, Glue.PowerRequest, Glue.BaselineShift, Glue.SocLimits, Glue.BaselineInjection], display_name: "Simulation Cluster Controller", enable_charging: false, frequency_bounds_validity: nil, groups: [], id: :Simulation, max_allowed_frequency_measurement_deviation: {1000, :mHz}, optimization_interval: {10, :s}, pq: {1000000, :W}, readout_validity_interval: {10, :s}, serial: 6451, signals_interval: {1, :s}}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :CommandsUpdateProbe => {CES.Simulation.CommandsUpdateProbe, [], []}, :DiscrepancyDetector => {Controller.Cluster.DiscrepancyDetector, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan, Glue.PowerRequest, Glue.BaselineShift, Glue.SocLimits, Glue.BaselineInjection], display_name: "Simulation Cluster Controller", enable_charging: false, frequency_bounds_validity: nil, groups: [], id: :Simulation, max_allowed_frequency_measurement_deviation: {1000, :mHz}, optimization_interval: {10, :s}, pq: {1000000, :W}, readout_validity_interval: {10, :s}, serial: 6451, signals_interval: {...}}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :Dispatcher => {Controller.Cluster.Dispatcher, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan, Glue.PowerRequest, Glue.BaselineShift, Glue.SocLimits, Glue.BaselineInjection], display_name: "Simulation Cluster Controller", enable_charging: false, frequency_bounds_validity: nil, groups: [], id: :Simulation, max_allowed_frequency_measurement_deviation: {1000, :mHz}, optimization_interval: {10, :s}, pq: {1000000, :W}, readout_validity_interval: {10}, serial: 6451}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, DiscrepancyDetector.Timer.FcrChargingManager => {Grains.DebugTimer, %{}, []}, OutlierDetection.Timer.SignalsComputation => {Grains.DebugTimer, %{}, []}, Schedule.Timer.Optimizer => {Grains.DebugTimer, %{}, []}, UnavailabilityManager.Timer.OutlierDetection => {Grains.DebugTimer, %{}, []}, :FCAS => {Controller.Cluster.DummyGrain, [], []}, :FcrChargingManager => {Controller.Cluster.DummyGrain, [], []}, :FrequencyInjector => {Controller.Cluster.FrequencyInjector, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan, Glue.PowerRequest, Glue.BaselineShift], display_name: "Simulation Cluster Controller", enable_charging: false, frequency_bounds_validity: nil}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :Optimizer => {Controller.Cluster.Optimizer, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan, Glue.PowerRequest], display_name: "Simulation Cluster Controller", enable_charging: false}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :OutlierDetection => {Controller.Cluster.OutlierDetection, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [Glue.Plan], display_name: "Simulation Cluster Controller"}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :Schedule => {Controller.Cluster.Schedule, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter, command_capabilities: [...]}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223", deployment_configuration: nil], []}, :Server => {Controller.Cluster.Server, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{calculated_signals_recipient: CES.Simulation.Battery.TracerRouter}, output_path: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y/sim_1643634223"], []}, :SignalsComputation => {Controller.Cluster.SignalsComputation, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200, :mHz}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y", initial_clock: 10, instance: %Glue.Controller.Cluster.Instance{...}], []}, :SignalsPublisher => {CES.Simulation.SignalsPublisher, ["#PID<0.2686.0>"], []}, :UnavailabilityManager => {Controller.Cluster.UnavailabilityManager, [timestamp_by_trace: %{"../sim/priv/battery_traces/traceTest.csv.gz" => ~U[1970-01-01 00:00:10.000000Z]}, clock: ~U[1970-01-01 00:00:10.000000Z], reference_timestamp: ~U[2017-07-09 23:39:00Z], enable_charging: false, batteries: [%{clones: 1, groups: nil, path: "../sim/priv/battery_traces/traceTest.csv.gz"}], cluster_publish_interval: {1, :s}, cluster_optimization_interval: {10, :s}, simulation_interval: "#<Duration(PT1M)>", tag: "", frequency_bounds_config: %{band: [frequency_target: {50000, :mHz}, frequency_deadband: {10, :mHz}, frequency_max_deviation: {200}]}, max_allowed_frequency_measurement_deviation: {1000, :mHz}, timeout: :infinity, battery_signals: false, trace_to_files: false, data_dir: "../../_build/ces_tests/Elixir.Mix.Tasks.SimulateTest-1643634222-2452-mdkg4y"], []}}}, [id: :Simulation]]}, :permanent, :infinity, :supervisor, [Grains]}}}