export TERM=xterm-256color
export LC_ALL=en_US.UTF-8
export ENV=~/.shinit
export HISTFILE=$HOME/.sh_history
export HISTSIZE=4096
export EDITOR=vim
export FCEDIT=$EDITOR
export MAILPATH=$MAIL:$HOME/.mail/posteo?"Neue Mails."
export TEXMFHOME=$HOME/texmf
export WORKSPACE=$HOME/src
export APPLICATIONS=$HOME/apps
export GOOS=linux
export GOARCH=amd64
export GOBIN="$HOME/bin"
export tabstop=4
export BROWSER=chrome
export NAMESPACE=$HOME/9p
export PS1="$USER@`hostname`\$ "
export CDPATH=".:$HOME:$HOME/src"
# font for plan9 sam, 9term etc. (not acme)
export font=/mnt/font/DejaVuSansMono/18a/font
export FZF_DEFAULT_COMMAND="set -o pipefail; command find -L . -mindepth 1 -path '*/\.*' -prune -o -type f -print -o -type l -print | cut -b3-" fzf

pushToPath() {
	case "$1" in
	'')
		;;
	*)
		PATH=`
			echo "$PATH" |
			sed '
				s,^'$1':,,g
				s,:'$1':,:,g
				s,:'$1'$,,g
			'
		`
		PATH="$1:$PATH"
		export PATH
		;;
	esac
}

pushToPath $APPLICATIONS/android-sdk-linux/platform-tools
pushToPath $APPLICATIONS/android-sdk-linux/tools
pushToPath $APPLICATIONS/postgresql/bin
pushToPath $APPLICATIONS/go/bin
pushToPath $HOME/.local/bin
pushToPath $HOME/.npm/bin
pushToPath $HOME/.cabal/bin

if [ -d $HOME/.nix-profile/etc/profile.d ]; then
	for i in $HOME/.nix-profile/etc/profile.d/*.sh; do
		if [ -r $i ]; then
			. $i
		fi
	done
fi

pushToPath $HOME/bin
pushToPath $HOME/bin/aliases

if ! (echo $PATH | grep -q "/usr/games"); then
	PATH=$PATH:/usr/games
fi
export PATH

if [ -z "$MANPATH" ]; then
	export MANPATH=$HOME/man:
else
	export MANPATH=$HOME/man:$MANPATH:
fi

alias ll='ls -l'
alias l='ls -1'
alias my_rsync='rsync -rlHtu --include-from=$HOME/.rsync_include --exclude-from=$HOME/.rsync_exclude'
alias cmatrix='cmatrix -b -u 6'
alias rm='rm -i'
alias mv='mv -i'
alias tmux-sp='tmux split-window -c $PWD'
alias Watch='Watch -x \\.git'
# workaround for haskell, due to w^x on OpenBSD
#alias cabal='env TMPDIR=/usr/local/cabal/build/ cabal'

[ -f ~/.ssh-agent-thing ] && . ~/.ssh-agent-thing > /dev/null
if ! [ -e "$SSH_AUTH_SOCK" ]
then
	ssh-agent > ~/.ssh-agent-thing
	. ~/.ssh-agent-thing
fi

if [ -e "$HOME/.profile.local" ]
then
	. "$HOME/.profile.local"
fi
