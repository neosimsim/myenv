# Only execute this file once per shell.
if [ -n "$HOME_PROFILE_SOURCED" ]; then return; fi
export HOME_PROFILE_SOURCED=1

stty -ixon

export HISTFILE=$HOME/.shhistory
export HISTSIZE=65535
export EDITOR="emacsclient -tca  ''"
export VISUAL="$EDITOR"
export FCEDIT="$EDITOR"
export CDPATH=".:$HOME:$HOME/src"
export GOOS=linux
export GOARCH=amd64
export GOBIN="$HOME/bin"
export FZF_DEFAULT_COMMAND='fd --type file --follow --hidden --exclude .git'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"

[ -r $HOME/.nix-profile/etc/profile.d/nix.sh ] && . $HOME/.nix-profile/etc/profile.d/nix.sh

PATH=$HOME/bin:$PATH
PATH=$HOME/bin/aliases:$PATH
export PATH

# workaround for haskell, due to w^x on OpenBSD
#alias cabal='env TMPDIR=/usr/local/cabal/build/ cabal'

[ -z "$SSH_AUTH_SOCK" ] && [ -f ~/.ssh-agent-thing ] && . ~/.ssh-agent-thing > /dev/null
if ! [ -e "$SSH_AUTH_SOCK" ]
then
	ssh-agent > ~/.ssh-agent-thing
	. ~/.ssh-agent-thing
fi

if [ -e "$HOME/local/profile" ]
then
	. "$HOME/local/profile"
fi
